<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<title>JSSpec results</title>
<link rel="stylesheet" type="text/css" href="JSSpec.css" />
<link rel="stylesheet" type="text/css" href="../../public/javascripts/flotomatic.css" />
<script type="text/javascript" src="amok.js"></script>
<script type="text/javascript" src="diff_match_patch.js"></script>
<script type="text/javascript" src="JSSpec.js"></script>
<script type="text/javascript" src="../../public/javascripts/jquery.js"></script>
<script type="text/javascript" src="../../public/javascripts/jquery.flot.pack.js"></script>
<script type="text/javascript" src="../../public/javascripts/flotomatic.js"></script>
<script type="text/javascript">
// <![CDATA[

var setupFlot = function() {
	placeholder = "graph";
	data = [[0,100],[1,101],[2,201]];
	options = {lines: {show: true}};
	flot = new Flotomatic(placeholder, data, options);
}

describe('A Flotomatic Object : ', {
	before_each: function(){
		setupFlot();
	},
	
	'should be defined' : function() {
		value_of(Flotomatic).should_not_be_undefined()
	},
	
	'should set placeholder, data, and options' : function() {
		value_of(flot.placeholder).should_be("#graph");
		value_of(flot.data).should_be(data);
		value_of(flot.options).should_be(options);
	},

	'should set defaults divs' : function() {
		value_of(flot.tooltip).should_be("#flot_tooltip");
		value_of(flot.choices).should_be("#flot_choices");
		value_of(flot.overview).should_be("#flot_overview");
	},
	
	'should set plot and overviewPlot to null' : function() {
		value_of(flot.plot).should_be_null();
		value_of(flot.overviewPlot).should_be_null();
	},
	
});

describe('flot.graph : ', {
	before_each: function(){
		setupFlot
	},
	'should call draw' : function() {
		var mock = amok.mock(Flotomatic);
		mock.should_receive('placeholder').and_return("my_placeholder");
		mock.should_receive('draw');
		mock.graph(false, false);
	},
});


// ]]>
</script>
</head>
<body></body>
</html>
